# 1、分类指标
## 精确率和召回率多用于二分类问题

真实结果/预测结果 | 正（P）| 负（N）
---|---|---|
正（P） | TP | FN
负（N） | FP |TN



精确率（P） = 
```math
\frac{TP}{TP + FP}

```

召回率（R）=
```math
\frac{TP}{TP + FN}

```

理想状态下，精确率和召回率越高越好，但事实是两者是矛盾的：
搜索网页时，只返回最相关的那一个网页，则准确率为100%，而召回率就特别的低。如果返回全部网页，则召回率为100%，但准确率特别的低。


## F1值是精确率和召回率的调和平均值
```math
\frac{2}{F1} = \frac{1}{P} + \frac{1}{R}
```

## 准确率和错误率也是常用的评估指标

准确率（accuracy） = 

```math
  \frac{TP+TN}{TP+FP+FN+TN}
```

错误率（error rate） = 
```math
 \frac{FP+FN}{TP+FP+FN+TN}
```

精确率是一个二分类指标，而准确率则能应用于多分类
准确率（accuracy） = 

```math
 \frac{1}{n}\sum_{i=1}I(f(x_i) = y_i)
```

## ROC 和AUC

使用精确率和召回率进行模型评估时，需要多预测概率设分类阈值，使得模型多了一个超参数，并且这个超参数会影响模型的泛化能力。
ROC曲线不需要设定这样的阈值，ROC的纵坐标是真正率，横坐标是假正率，其对应的计算公式如下：

真正率

```math
  TPR = \frac{TP}{TP+FN}
```
假正率

```math
  FPR = \frac{FP}{FP+TN}
```

绘制ROC曲线的方法：首先对所有样本按预测概率进行排序，以每条样本的预测概率为阈值，计算对应的FPR和TPR，然后用线段连接。

AUC 即ROC曲线下的面积，取值越大说明模型越可能将正样本排在负样本的前面。AUC等于随机挑选一个正样本和负样本时，分类器将正样本排前面的概率
AUC考虑的是样本的排序质量，他与排序误差有密切的关系

## 对数损失
是对预测概率的似然估计
```math
  log loss = -logP(Y|X)
```
对数损失的本质是利用样本中的已知分布，求解导致这种分布的最佳模型参数，使得这种分布出现的概率最大。

对应的二分类的计算公式为：
```math
logloss = -\frac{1}{N}\sum_{i= 1}(y*logp_i + (1-y)*log(1-p_i))
```
多分类计算公式：
```math
logloss = -\frac{1}{N}\sum_{i= 1}\sum_{j=1}(y_ij * logp_ij)
```

logloss 衡量的是预测概率分布和真实概率分布的差异性，其值越小越好，其余AUC不同，对预测概率值非常敏感

# 2、回归指标
## 平均绝对误差

```math
MAE=\frac{1}{N}\sum_{i=1}|y_i-p_i|
```
很好的刻画了预测值和真实值之间的偏差。

## 平均平方差/均方误差
```math
MSE=\frac{1}{N}\sum_{i=1}(y_i-p_i)^2
```

平均误差对异常点较敏感

## 方均根差 
```math
RMSE=\sqrt(MSE)
```
RMSE代表的是预测值和真实值差值的样本标准差，和MAE比，RMSE对大误差样本有更大的惩罚；但对离群点的敏感，其健壮性不如MAE。
使用RMSE是对数据分布的平均值进行拟合。

